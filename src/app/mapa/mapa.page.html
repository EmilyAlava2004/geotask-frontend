<ion-header [translucent]="true">
  <ion-toolbar color="primary">
    <ion-title>Mapa de Ubicaciones</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content fullscreen class="ion-padding">
  <div id="map"></div>

  <!-- Filtro por categoría -->
  <ion-item>
    <ion-label>Filtrar por categoría</ion-label>
    <ion-select [(ngModel)]="filtroCategoria" (ionChange)="filtrarTareas()">
     <ion-select-option value="all">Todas</ion-select-option>
<ion-select-option value="Work">Trabajo</ion-select-option>
<ion-select-option value="Personal">Personal</ion-select-option>
<ion-select-option value="Study">Estudio</ion-select-option>
<ion-select-option value="Urgent">Urgente</ion-select-option>
<ion-select-option value="Health">Salud</ion-select-option>
<ion-select-option value="other">Otra</ion-select-option>

      <!-- Agrega más categorías si las tienes -->
    </ion-select>
  </ion-item>

  <!-- Seleccionar ubicación para tarea -->
  <ion-card>
    <ion-card-header>
      <ion-label><strong>Seleccionar ubicación para nueva tarea</strong></ion-label>
    </ion-card-header>
    <ion-card-content>
      <ion-button expand="block" color="primary" (click)="seleccionarUbicacionParaTarea()">
        Seleccionar ubicación desde el mapa
      </ion-button>
    </ion-card-content>
  </ion-card>

  <!-- Guardar nueva ubicación -->
  <ion-card>
    <ion-card-header>
      <ion-label color="success"><strong>Guardar Nueva Ubicación</strong></ion-label>
    </ion-card-header>
    <ion-card-content>
      <ion-button expand="block" color="success" (click)="guardarUbicacion()">
        Guardar Ubicación
      </ion-button>
    </ion-card-content>
  </ion-card>

  <!-- Editar ubicación-->
  <ion-card>
    <ion-card-header>
      <ion-label color="warning"><strong>Editar Ubicación Guardada</strong></ion-label>
    </ion-card-header>
    <ion-card-content>
      <ion-item>
        <ion-label position="stacked">Selecciona ubicación a editar</ion-label>
        <ion-select [(ngModel)]="selectedLocationId" placeholder="Selecciona una ubicación">
          <ion-select-option *ngFor="let loc of locations" [value]="loc.id">
            {{ loc.name }}
          </ion-select-option>
        </ion-select>
      </ion-item>
      <ion-button expand="block" color="warning" (click)="editarUbicacion()">
        Editar Ubicación Seleccionada
      </ion-button>
    </ion-card-content>
  </ion-card>

  <!-- Eliminar ubicación -->
  <ion-card>
    <ion-card-header>
      <ion-label color="danger"><strong>Eliminar Ubicación Guardada</strong></ion-label>
    </ion-card-header>
    <ion-card-content>
      <ion-item>
        <ion-label position="stacked">Selecciona ubicación a eliminar</ion-label>
        <ion-select [(ngModel)]="selectedLocationId" placeholder="Selecciona una ubicación">
          <ion-select-option *ngFor="let loc of locations" [value]="loc.id">
            {{ loc.name }}
          </ion-select-option>
        </ion-select>
      </ion-item>
      <ion-button expand="block" color="danger" (click)="eliminarUbicacion()">
        Eliminar Ubicación Seleccionada
      </ion-button>
    </ion-card-content>
  </ion-card>
</ion-content>
